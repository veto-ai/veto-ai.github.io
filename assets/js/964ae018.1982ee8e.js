"use strict";(globalThis.webpackChunkveto_docs=globalThis.webpackChunkveto_docs||[]).push([[7443],{3588(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"api-reference","title":"Veto API Reference: Institutional Integration Guide","description":"This guide provides the technical specifications for integrating Veto\u2019s Identity & Integrity layer into enterprise treasury systems, custody platforms, and payment orchestrators.","source":"@site/docs/api-reference.md","sourceDirName":".","slug":"/api-reference","permalink":"/api-reference","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Continuous Infrastructure Integrity","permalink":"/features/monitoring"}}');var s=t(4848),r=t(8453);const a={},o="Veto API Reference: Institutional Integration Guide",d={},l=[{value:"Protocol Foundations",id:"protocol-foundations",level:2},{value:"1. Authentication &amp; Security",id:"1-authentication--security",level:2},{value:"Authentication Methods",id:"authentication-methods",level:3},{value:"Content Integrity",id:"content-integrity",level:3},{value:"2. Identity Attestation (<code>/attestation</code>)",id:"2-identity-attestation-attestation",level:2},{value:"Generate Challenge",id:"generate-challenge",level:3},{value:"3. Bilateral Consensus Handshake (<code>/payment-intent</code>)",id:"3-bilateral-consensus-handshake-payment-intent",level:2},{value:"Create Payment Intent",id:"create-payment-intent",level:3},{value:"Handshake Confirmation (The &quot;Consent&quot; Payload)",id:"handshake-confirmation-the-consent-payload",level:3},{value:"4. Institutional Risk Engine (<code>/scan</code>)",id:"4-institutional-risk-engine-scan",level:2},{value:"Target Scan",id:"target-scan",level:3},{value:"5. Webhooks &amp; Event Streams",id:"5-webhooks--event-streams",level:2},{value:"Supported Events:",id:"supported-events",level:3},{value:"Privacy &amp; Security Considerations (Institutional FAQ)",id:"privacy--security-considerations-institutional-faq",level:2},{value:"Q: Does Veto introduce a Web2 dependency via DNS?",id:"q-does-veto-introduce-a-web2-dependency-via-dns",level:3},{value:"Q: How do you prevent Public Registry Leakage?",id:"q-how-do-you-prevent-public-registry-leakage",level:3},{value:"Q: What is the plan for Privacy-Preserving Proofs?",id:"q-what-is-the-plan-for-privacy-preserving-proofs",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"veto-api-reference-institutional-integration-guide",children:"Veto API Reference: Institutional Integration Guide"})}),"\n",(0,s.jsx)(n.p,{children:"This guide provides the technical specifications for integrating Veto\u2019s Identity & Integrity layer into enterprise treasury systems, custody platforms, and payment orchestrators."}),"\n",(0,s.jsx)(n.h2,{id:"protocol-foundations",children:"Protocol Foundations"}),"\n",(0,s.jsxs)(n.p,{children:["Veto operates as a ",(0,s.jsx)(n.strong,{children:"Shadow-Security Oracle"}),'. It does not hold funds; instead, it provides a cryptographically verifiable "Clear-to-Settle" signal for high-value B2B transactions.']}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"1-authentication--security",children:"1. Authentication & Security"}),"\n",(0,s.jsx)(n.p,{children:"Veto utilizes a dual-layer security model to protect institutional endpoints."}),"\n",(0,s.jsx)(n.h3,{id:"authentication-methods",children:"Authentication Methods"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bearer Auth"}),": JWT-based session tokens for interactive dashboard actions."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Key (X-API-Key)"}),": HMCA-signed headers for server-to-server (M2M) communication."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"content-integrity",children:"Content Integrity"}),"\n",(0,s.jsxs)(n.p,{children:["All sensitive write operations require the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"X-Veto-Signature"})})," header\u2014a custom HMAC-SHA256 hash of the request body and timestamp to prevent replay attacks."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"2-identity-attestation-attestation",children:["2. Identity Attestation (",(0,s.jsx)(n.code,{children:"/attestation"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"Anchors a hexadecimal wallet address to a verified Corporate Domain (DNS)."}),"\n",(0,s.jsx)(n.h3,{id:"generate-challenge",children:"Generate Challenge"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"POST /attestation/challenge"})}),"\n",(0,s.jsxs)(n.p,{children:["Creates an attestation intent. The response contains the ",(0,s.jsx)(n.strong,{children:"DNS Root of Trust"})," payload."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Request:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "domain": "acme-global.com",\n  "walletAddress": "0x742d35Cc6634C0532925a3b844Bc9e7595f2bD18",\n  "chain": "ethereum"\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Enterprise-Grade Response:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "attestationId": "att_v92834j",\n  "status": "CHALLENGE_ISSUED",\n  "verificationPayload": {\n    "dns": {\n      "type": "TXT",\n      "path": "_veto-auth.acme-global.com",\n      "value": "veto-proof=7a6f8b9c2d...",\n      "dnssecRequired": true\n    },\n    "wellKnown": {\n      "url": "https://acme-global.com/.well-known/veto.json",\n      "content": {\n        "address": "0x742d...",\n        "claimId": "att_v92834j"\n      }\n    }\n  },\n  "expiresAt": "2025-10-15T12:00:00Z"\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"3-bilateral-consensus-handshake-payment-intent",children:["3. Bilateral Consensus Handshake (",(0,s.jsx)(n.code,{children:"/payment-intent"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["The core protocol for preventing ",(0,s.jsx)(n.strong,{children:"Invoice Hijacking"})," and ",(0,s.jsx)(n.strong,{children:"Address Mutation"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"create-payment-intent",children:"Create Payment Intent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"POST /payment-intent"})}),"\n",(0,s.jsx)(n.p,{children:"Signals a transaction intent to a verified counterparty."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Request:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "recipientDomain": "vendor.xyz",\n  "recipientWallet": "0x987...",\n  "amount": 1250000.00,\n  "currency": "USDC",\n  "memo": "Batch-098-RawMaterials"\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"handshake-confirmation-the-consent-payload",children:'Handshake Confirmation (The "Consent" Payload)'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"POST /payment-intent/:id/confirm"})}),"\n",(0,s.jsxs)(n.p,{children:["The recipient validates the intent via their custody interface and provides an ",(0,s.jsx)(n.strong,{children:"EIP-712 Signature"}),". This signature acts as a ",(0,s.jsx)(n.strong,{children:"Pre-Settlement Receipt"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Request:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "recipientSignature": "0x... (EIP-712 Typed Signature)",\n  "v": 27,\n  "r": "0x...",\n  "s": "0x..."\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"4-institutional-risk-engine-scan",children:["4. Institutional Risk Engine (",(0,s.jsx)(n.code,{children:"/scan"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"Performs real-time AML/Sanctions screening before the final settlement execution."}),"\n",(0,s.jsx)(n.h3,{id:"target-scan",children:"Target Scan"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"POST /scan/wallet"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Response:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "riskScore": 12,\n  "status": "CLEAR",\n  "signals": {\n    "sanctionsMatch": false,\n    "highRiskExchange": false,\n    "mixerProximity": 0,\n    "identityMatch": "VERIFIED_VENDOR"\n  },\n  "auditToken": "v-proof-99238..."\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"5-webhooks--event-streams",children:"5. Webhooks & Event Streams"}),"\n",(0,s.jsx)(n.p,{children:"Veto supports event-driven workflows for automated Treasury Management Systems (TMS)."}),"\n",(0,s.jsx)(n.h3,{id:"supported-events",children:"Supported Events:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"attestation.verified"}),": Emitted when a new vendor identity is anchored."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"handshake.confirmed"}),": Emitted when a counterparty signs a payment intent."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"scan.alert"}),": High-priority alert for high-risk wallet interactions."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"registry.updated"}),": Signal for local cache invalidation of the verified list."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"privacy--security-considerations-institutional-faq",children:"Privacy & Security Considerations (Institutional FAQ)"}),"\n",(0,s.jsx)(n.h3,{id:"q-does-veto-introduce-a-web2-dependency-via-dns",children:"Q: Does Veto introduce a Web2 dependency via DNS?"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"A:"})," DNS/DNSSEC acts as the ",(0,s.jsx)(n.strong,{children:"Discovery Layer"}),". Settlement finality is guarded by ",(0,s.jsx)(n.strong,{children:"EIP-712 (Web3)"}),". A DNS hijack cannot trigger a payment because the intruder lacks the counterparty's private keys required for the Handshake Confirmation."]}),"\n",(0,s.jsx)(n.h3,{id:"q-how-do-you-prevent-public-registry-leakage",children:"Q: How do you prevent Public Registry Leakage?"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"A:"})," Veto supports ",(0,s.jsx)(n.strong,{children:"Stealth Attestations"}),". Organizations can choose to hide their wallet-domain mappings from the public API, making them queryable only by authenticated peers with a valid ",(0,s.jsx)(n.strong,{children:"Handshake Token"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"q-what-is-the-plan-for-privacy-preserving-proofs",children:"Q: What is the plan for Privacy-Preserving Proofs?"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"A:"})," Our roadmap includes ",(0,s.jsx)(n.strong,{children:"ZK-Proofs for DNSSEC Path Validation"}),", allowing institutions to prove domain control to the Veto Oracle without exposing the underlying TXT records or IP infrastructure to the network."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);